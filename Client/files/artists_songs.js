array = [
  {
    artist: "Indianas Bible College",
    song: "Youre Mighty",
    link: "/i/indiana+bible+college/youre+mighty_21111577.html",
    text: "Who is this king of glory?  \r\n(Who is this king of glory?)  \r\nLord, strong and mighty he is  \r\n(Lord, strong and mighty he is)  \r\nLord God, mighty in battle  \r\n(Lord God, mighty in battle)  \r\nNone powerful as Him  \r\n(None powerful as Him)  \r\n  \r\nWho is this king of glory?  \r\n(Who is this king of glory?)  \r\nLord, strong and mighty he is  \r\n(Lord, strong and mighty he is)  \r\nLord God, mighty in battle  \r\n(Lord God, mighty in battle)  \r\nNone powerful as Him  \r\n(None powerful as Him)  \r\n  \r\nTo Him we sing  \r\n(Hallelujah)  \r\nTo Him we cry  \r\n(Glory)  \r\nHe's the only one  \r\n(Worthy of praise)  \r\n  \r\nLord you rain victorious  \r\nWe fear no evil as you fight for us  \r\nYou are mighty  \r\n(You are mighty)  \r\nYou are mighty  \r\n(You are mighty)  \r\nWhen you fight  \r\n(When you fight)  \r\nYou will win  \r\n(You will win)  \r\n  \r\nLord you rain victorious  \r\nIt is in You that we have put our trust  \r\nYou are mighty  \r\n(You are mighty)  \r\nYou are mighty  \r\n(You are mighty)  \r\nWhen you fight  \r\n(When you fight)  \r\nYou will win  \r\n(You will win)  \r\nBecause You're mighty  \r\nBecause Youre mighty  \r\n  \r\nWho is this king of glory?  \r\n(Who is this king of glory?)  \r\nLord, strong and mighty he is  \r\n(Lord, strong and mighty he is)  \r\nLord God, mighty in battle  \r\n(Lord God, mighty in battle)  \r\nNone powerful as Him  \r\n(None powerful as Him)  \r\n  \r\nTo Him we sing  \r\n(Hallelujah)  \r\nTo Him we cry  \r\n(Glory)  \r\nHe's the only one  \r\n(Worthy of praise)  \r\n  \r\nLord you rain victorious  \r\nWe fear no evil as you fight for us  \r\nYou are mighty  \r\n(You are mighty)  \r\nYou are mighty  \r\n(You are mighty)  \r\nWhen you fight  \r\n(When you fight)  \r\nYou will win  \r\n(You will win)  \r\n  \r\nLord you rain victorious  \r\nIt is in you that we have put our trust  \r\nYou are mighty  \r\n(You are mighty)  \r\nYou are mighty  \r\n(You are mighty)  \r\nWhen you fight  \r\n(When you fight)  \r\nYou will win  \r\n(You will win)  \r\n  \r\nBecause You're mighty  \r\nYou made the heavens and the earth  \r\n(Because You're mighty)  \r\nThe winds and the rain cease at your voice  \r\n(Because You're mighty)  \r\nWhen I was bound, Lord you set me free  \r\n(Because You're mighty)  \r\nThank you Lord for giving me the victory  \r\n  \r\nRepeat 6X  \r\nYou're mighty  \r\n(You're mighty)  \r\nVictorious  \r\n(Victorious)  \r\nAll powerful  \r\n(All powerful)  \r\nAnd Glorious  \r\n(And Glorious)  \r\n  \r\nRepeat 8X  \r\nYou're mighty  \r\n(You're mighty)  \r\n  \r\nRepeat 2X  \r\nYou're mighty  \r\n(You're mighty)  \r\nVictorious  \r\n(Victorious)  \r\nAll powerful  \r\n(All powerful)  \r\nAnd Glorious  \r\n(And Glorious)  \r\n  \r\nRepeat 9X  \r\nYou're mighty  \r\n(You're mighty)\r\n\r\n",
  },
  {
    artist: "gimels yafit",
    song: "God Of Wonders",
    link: "/i/indiana+bible+college/god+of+wonders_21084065.html",
    text: "Introduction  \r\nLord of heaven and earth  \r\nLord of all creation  \r\nLord of heaven and earth  \r\n  \r\nVerse 1  \r\nLord of all creation  \r\nOf water, earth, and sky  \r\nThe heavens are your tabernacle  \r\nGlory to the Lord on high  \r\n  \r\nChorus  \r\nGod of wonders beyond our galaxy  \r\nYou are holy, holy  \r\nThe universe declares Your majesty  \r\nYou are holy, holy  \r\nLord of heaven and earth  \r\nLord of all creation  \r\nLord of heaven and earth  \r\n  \r\nVerse 2  \r\nEarly in the morning, I will celebrate the light  \r\nWhen I stumble through the darkness, I will call Your name y night  \r\n  \r\nBridge  \r\nHallelujah (To the Lord of heaven and earth) (3x)  \r\nGod of wonders beyond our galaxy  \r\nYou are holy, holy  \r\n  \r\nChorus 2  \r\nGod of wonders beyond our galaxy  \r\nYou are holy, holy  \r\nHoly, Holy, Holy, Lord God all mighty  \r\n(Precious Lord reveal Your heart to me)  \r\nHoly (4x)  \r\n  \r\nEnding  \r\nHallelujah (To the Lord of heaven and earth) (4x)\r\n\r\n",
  },
  {
    artist: "zibsi",
    song: "Let Everything That Has Breath",
    link: "/i/indiana+bible+college/let+everything+that+has+breath_21112221.html",
    text: "[Verse 1]  \r\nPraise Him in the sanctuary, Praise Him in the mighty firmament,  \r\nFor His excellent power and greatness, praise the Lord!  \r\nPraise Him with the sound of the trumpet,  \r\nPsaltery, harp, the tambourine, and dance  \r\nLet the cymbals' crash ring out and praise the Lord!  \r\n  \r\n[Verse 1]  \r\nPraise Him in the sanctuary, Praise Him in the mighty firmament,  \r\nFor His excellent power and greatness, praise the Lord!  \r\nPraise Him with the sound of the trumpet,  \r\nPsaltery, harp, the tambourine, and dance  \r\nLet the cymbals' crash ring out and praise the Lord!  \r\n  \r\n[Chorus]  \r\nLet everything, everything, let everything that has breath praise the Lord.  \r\nMay His work be applauded forever, forever.  \r\nLet everything, everything, let everything that has breath praise the Lord.  \r\nLet all heaven and earth come together.  \r\n  \r\n[Verse 2]  \r\nFor the Lord is good, the Lord is good.  \r\nFor the Lord is good, Praise the Lord.  \r\nFor the Lord is good, the Lord is good.  \r\nFor the Lord is good, praise the Lord. (Oh-oh-oh-oh-oh. Oh-oh-oh-oh-oh)  \r\nPraise the Lord! (Oh-oh-oh-oh-oh. Oh-oh-oh-oh-oh.)  \r\n  \r\n[Chorus]  \r\nLet everything, everything, let everything that has breath praise the Lord.  \r\nMay His work be applauded forever, forever.  \r\nLet everything, everything, let everything that has breath praise the Lord.  \r\nLet all heaven and earth come together.  \r\n  \r\n[Bridge]  \r\nAnd praise the Lord  \r\nLet everything that has breath praise the Lord.  \r\nLet everything that has breath praise the Lord.  \r\n  \r\n[Vamp 1]  \r\nLet everything that has breath praise.  \r\nLet everything that has breath praise.  \r\nLet everything that has breath praise.  \r\nLet everything that has breath praise.  \r\n  \r\n[Bridge 3]  \r\nIf I had ten thousand tongues, that wouldn't be enough to give You praise  \r\nI want to praise, praise, praise, praise.  \r\n  \r\n[Ending]  \r\nLet everything, everything!  \r\nLet everything that has breath praise the Lord.  \r\nLet all heaven and earth come together.  \r\nAnd Praise the Lord  \r\nPraise the Lord.\r\n\r\n",
  },
  {
    artist: "sharslil",
    song: "You Hold My World",
    link: "/i/indiana+bible+college/you+hold+my+world_21008898.html",
    text: "[Intro:]  \r\nWhoa Ooh  \r\n  \r\n[Verse:]  \r\nTake my heart  \r\nLord will You take my heart  \r\nAs I surrender to Your will  \r\nI confess, You are my righteousness  \r\nAnd until You move me I'll be still  \r\nAnd know that You are God  \r\n  \r\n[Chorus:]  \r\nYou hold my world in Your hand  \r\nYou hold my world in Your hand and  \r\nI am amazed at Your love  \r\nI am amazed that You love me  \r\nYou hold my world in Your hand  \r\nYou hold my world in Your hand and  \r\nI'm not afraid, my world is safe in Your hand  \r\nOh  \r\nIn Your Hand  \r\n  \r\n[Verse 2:]  \r\nTake my life  \r\nLord will You take my life  \r\nYou are the reason that I live  \r\nI believe You have forgiven me  \r\nAnd by Your grace I will forgive  \r\nAnd know that You are God  \r\nAnd know that You are God  \r\n  \r\n[Chorus:]  \r\n  \r\n[Tag]  \r\nYou won't let go of me  \r\nYou won't let go, never let go  \r\n  \r\nYou will take care of me  \r\nYou will take care, always take care  \r\n  \r\nWon't let go [3x]  \r\n  \r\nYou hold my world in Your hands  \r\nYou hold my world  \r\nAnd You won't let go\r\n\r\n",
  },
  {
    artist: "gasy",
    song: "Void",
    link: "/i/indiana+bible+college/void_21021503.html",
    text: "Verse 1:  \r\n  \r\nIs This the end is this all that's left of me  \r\nTell me when, when did I lose touch with reality  \r\nFading in and out in and out till I lose my mind  \r\nI'm so tired of trying tired of trying  \r\nTo find something inside to see I'm  \r\n  \r\nChorus:  \r\n  \r\nJust an empty shell  \r\nOf my old self  \r\nCan you replace the brokenness with your love  \r\nCan you refill  \r\nMy void soul with something that's above myself  \r\nSomething just to fill this empty sell  \r\n  \r\nVerse 2:  \r\n  \r\nNow I can see this as a new beginning for me  \r\nEmpty page to create a new life story yeah  \r\nBut I don't know how to begin again  \r\nI fall back on the same old lines  \r\nIdeas can't flow from head to pen  \r\nAnd it makes me wonder why just why I'm  \r\n  \r\nChorus:  \r\n  \r\nJust an empty shell  \r\nOf my old self  \r\nCan you replace the brokenness with your love  \r\nCan you refill  \r\nMy void soul with something that's above myself  \r\nSomething just to fill  \r\n  \r\nBridge:  \r\n  \r\nSins of my past have left me Void  \r\nWith everything that I myself destroyed  \r\nBut I belong to you and you alone  \r\nAnd I know that you have made me whole  \r\n  \r\nI'm not an empty shell of my old self  \r\nCause you've replaced my brokenness with your love  \r\nI'm not an empty shell of my old self  \r\nCause you've replaced my brokenness with your love  \r\nGod you've refilled my void soul  \r\nWith something that's above myself  \r\nSomething just to fill this empty sell\r\n\r\n",
  },
];

function ajaxCall(method, api, data, successCB, errorCB) {
  $.ajax({
    type: method,
    url: api,
    data: data,
    cache: false,
    contentType: "application/json",
    dataType: "json",
    success: successCB,
    error: errorCB,
  });
}

url = "https://localhost:7061/";

addSongApi = url + "api/Songs/AddSong";
addArtistApi = url + "api/Artists/AddArtist?artName=";
getArtistIdByNameApi = url + "api/Artists/GetArtistIdByName?artName=";

function addArtist(song) {
  ajaxCall(
    "POST",
    addArtistApi + song.artist,
    "",
    addArtistSuccess,
    addArtistError
  );
}
function addArtistSuccess(data) {
  console.log("artist added");
}
function addArtistError(error) {
  console.log("error");
}
var artId = 0;
function getArtistIdByName(song) {
  ajaxCall(
    "GET",
    getArtistIdByNameApi + song.artist,
    "",
    getArtistSuccess,
    getArtistError
  );
}

function getArtistSuccess(data) {
  ajaxCall(
    "POST",
    addSongApi,
    JSON.stringify(
      (songToSend = {
        songName: songToAdd.song,
        lyrics: songToAdd.text,
        links: songToAdd.links,
        artistId: data,
      })
    ),
    successCB,
    errorCB
  );
}

function getArtistError(error) {
  console.log(error);
}
var songToAdd;
function importAllSongs() {
  let index = 0;

  function processNextSong() {
    if (index < array.length) {
      songToAdd = array[index];
      getArtistIdByName(songToAdd);
      index++;
      setTimeout(processNextSong, 50); // Adjust the timeout duration as needed
    }
  }

  processNextSong();
}

importAllSongs();

function successCB(data) {
  //console.log(data);
}

function errorCB(error) {
  //console.log(error);
}
