<!DOCTYPE html>
<html>
  <head>
    <title>YouTube Player with Play/Pause Button</title>
  </head>
  <body>
    <div>
      <input type="text" id="searchInput" placeholder="Enter video search" />
      <button onclick="searchVideo()">Search</button>
    </div>
    <div id="player"></div>
    <button onclick="togglePlayPause()">Play/Pause</button>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://apis.google.com/js/client.js?onload=init"></script>
    <script>
      var apiKey = "AIzaSyCSrPK-MmRJ0tSC4e9pRH4VrwSLBHBtfLg";
      var player;

      function onYouTubeIframeAPIReady() {
        player = new YT.Player("player", {
          height: "360",
          width: "640",
          playerVars: {
            autoplay: 0,
          },
        });
      }

      function searchVideo() {
        var searchInput = document.getElementById("searchInput").value;
        if (searchInput !== "") {
          // Make the API call to search for videos
          query = searchInput;
          var request = gapi.client.youtube.search.list({
            q: query,
            part: "snippet",
            type: "video",
            maxResults: 1,
            key: apiKey,
          });

          // Process the response and display the player in a Fancybox modal
          request.execute(function (response) {
            var videoId = response.items[0].id.videoId;
            var videoURL =
              "https://www.youtube.com/embed/" + videoId + "?autoplay=0"; // Change autoplay=1 to autoplay=0
            player.loadVideoById(videoId);
          });
        }
      }

      function togglePlayPause() {
        if (player.getPlayerState() === YT.PlayerState.PLAYING) {
          player.pauseVideo();
        } else {
          player.playVideo();
        }
      }

      function init() {
        gapi.client.setApiKey(apiKey);
        gapi.client.load("youtube", "v3", function () {
          // API is ready
        });
      }
    </script>
  </body>
</html>
